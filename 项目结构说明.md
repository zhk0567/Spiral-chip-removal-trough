# 螺旋排屑槽设计工具 - 项目结构说明

## 项目概述

本项目是从图源刀具绘图系统V3.16中提取的螺旋排屑槽设计功能，经过逆向分析和重新实现，提供了独立的本地使用版本。

## 目录结构

```
F:\commercial\CAD\
├── 📊 分析结果 (保留)
│   ├── analysis_report.txt              # PE结构基础分析
│   ├── 逆向分析报告.md                   # 基础逆向分析报告
│   ├── final_analysis_report.md         # 深入功能原理分析
│   └── extracted_resources\             # 提取的资源文件
│       ├── RT_ICON\                     # 图标资源
│       ├── RT_MANIFEST\                 # 应用程序清单
│       └── RT_VERSION\                  # 版本信息
│
├── 🛠️ 螺旋排屑槽设计工具 (核心功能)
│   ├── spiral_groove_designer.py        # 主程序 (Python实现)
│   ├── 使用说明.md                      # 详细使用说明
│   └── test_calculation.py              # 计算验证脚本
│
├── 📁 生成的数据文件
│   ├── spiral_center.csv                # 螺旋槽中心线坐标
│   ├── spiral_boundaries.csv            # 排屑槽边界坐标
│   └── tool_outline.csv                 # 刀具轮廓坐标
│
├── 🔧 C++版本 (备用)
│   ├── SpiralGrooveDesigner.cpp         # C++源代码
│   └── CMakeLists_spiral.txt            # CMake构建配置
│
├── 📚 项目文档
│   ├── README.md                        # 项目说明
│   ├── 开发文档.md                      # 原始开发文档
│   └── 项目结构说明.md                  # 本文件
│
└── 📦 原始分析对象
    └── 图源刀具绘图系统V3.16-标准版-20251023\
        ├── 图源刀具绘图系统V3.16-标准版-20251023.exe  # 分析目标
        └── 培训材料\                         # 培训文档
```

## 核心功能实现

### 1. 数学计算引擎
基于螺旋线展开理论的纯数学计算：

```python
# 关键公式
pitch = circumference / tan(螺旋角)          # 螺距计算
y = (x / pitch) * circumference              # 展开坐标
y_left = y_center + bladeWidth/2             # 左边界
y_right = y_center - bladeWidth/2            # 右边界
```

### 2. 数据结构
```python
class Point2D:
    x, y  # 2D坐标点

class SpiralGrooveCalculator:
    calculate_spiral_groove()     # 计算中心线
    calculate_boundaries()        # 计算边界
    calculate_tool_outline()      # 计算轮廓
```

### 3. 输出格式
- **CSV格式**：兼容Excel、AutoCAD等软件
- **坐标数据**：X,Y 格式，6位小数精度
- **边界数据**：X,Y_Left,Y_Right 格式

## 使用流程

### 快速开始
1. **运行程序**：`python spiral_groove_designer.py`
2. **修改参数**：编辑脚本中的设计参数
3. **查看结果**：打开生成的CSV文件
4. **导入CAD**：将数据导入设计软件

### 参数配置
```python
# 核心参数
spiral_angle = 30.0    # 螺旋角（度）
drill_diameter = 10.0  # 钻头直径（mm）
total_length = 50.0    # 钻头总长（mm）
blade_width = 2.0      # 刀瓣宽度（mm）
blade_height = 1.0     # 刀瓣高度（mm）
```

## 技术特点

### ✅ 优势
- **独立运行**：无需外部依赖
- **纯数学计算**：计算精确可靠
- **参数化设计**：灵活调整参数
- **多格式输出**：支持多种CAD软件
- **开源透明**：代码清晰易懂

### 🔧 技术栈
- **语言**：Python 3.6+
- **算法**：基于螺旋线几何理论
- **输出**：CSV标准格式
- **验证**：内置计算验证

## 应用场景

### 1. 刀具设计
- 螺旋排屑槽设计
- 钻头几何建模
- 切削刃形优化

### 2. CAD绘图
- 参数化曲线生成
- 技术图纸绘制
- 工程制图辅助

### 3. 制造工程
- CAM编程准备
- 加工仿真数据
- 工艺规划支持

## 验证与测试

### 计算验证
- `test_calculation.py` - 数学计算正确性验证
- 参数范围检查
- 输出数据验证

### 数据验证
- 坐标计算准确性
- 边界计算正确性
- 轮廓生成完整性

## 扩展可能性

### 功能扩展
- 支持多螺旋槽设计
- 添加3D坐标输出
- 集成CAD软件API

### 界面改进
- 图形用户界面
- 实时参数调整
- 可视化预览

### 格式支持
- DXF/DWG导出
- IGES/STEP格式
- STL网格模型

## 总结

本项目成功将商业软件中的核心功能提取并重新实现为开源工具，提供了：

1. **功能完整性**：保留了原软件的核心计算功能
2. **使用便捷性**：单文件运行，无需安装
3. **数据兼容性**：标准CSV格式，支持主流CAD软件
4. **技术透明性**：开源代码，可验证计算过程
5. **扩展灵活性**：易于根据需求进行定制修改

通过逆向分析和重新实现，不仅获得了技术功能，还掌握了背后的数学原理和工程实现方法。
